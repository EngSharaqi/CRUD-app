import{r as l,b as a,j as e,a4 as c,a5 as n,J as P,P as U,y as f,am as T,ad as G,ae as H,af as J,a6 as O,a7 as d,a8 as r,al as S}from"./index.8f13e5f5.js";import{a as o}from"./axios.f07b93ef.js";function K(){const[m,u]=l.exports.useState([]),[B,I]=l.exports.useState(""),[R,E]=l.exports.useState([]),[p,h]=l.exports.useState(!1),[w,k]=l.exports.useState([]),[C,x]=l.exports.useState("d-none"),[D,v]=l.exports.useState("d-none"),[_,M]=l.exports.useState(null);let A=t=>{document.getElementById("categorySlug").value=t.target.value},L=t=>{t.target.value!=""&&o.get(`/brand/search?search=${t.target.value}`).then(s=>{t.target.value!=""?u(s.data.data.data):u(w)})};l.exports.useEffect(()=>{o.get("/brand/get").then(t=>{u(t.data.data.data),k(t.data.data.data)})},[]);let F=t=>{document.getElementById("categoryName"),document.getElementById("categorySlug"),document.getElementById("searchable_active"),document.getElementById("searchable_InActive"),document.getElementById("status_active"),document.getElementById("status_InActive"),document.getElementById("subCategoryCheckbox"),document.getElementById("subCatSelect"),document.querySelector(".subCategoryLabel");let s=document.querySelector("#saveNewBrandBtn"),g=document.querySelector("#updateBrandBtn");if(t.target.value=="delete"){let i=t.target.id;o.delete(`/brand/delete/${i}`).then(N=>window.location.reload()).catch("The new category")}t.target.value=="edit"?(h(!0),v("d-none"),x(""),I(t.target.id),o.get(`/brand/view/${t.target.id}`).then(i=>{E(i.data.data)})):(s.classList.remove("d-none"),g.classList.add("d-none")),t.target.value=="copyId"},$=()=>{h(!0),v(""),x("d-none")},W=async()=>{let t=document.getElementById("brandName"),s=document.getElementById("brandDescription"),g=document.getElementById("brandWebsite"),i=document.getElementById("featuredYes"),N=document.getElementById("status_publish");document.getElementById("");let j=document.getElementById("brandMeta"),q=document.getElementById("brandMetaDescription");const y=new FormData;y.append("logo",_,"test.png"),console.log(...y),await o.post("/brand/post",{name:t.value,description:s.value,website_link:g.value,featured:i.checked?"1":"0",status:N.checked?"publish":"pending",...y,meta_title:j.value,meta_description:q.value}).then(b=>console.log(b)).catch(b=>console.log(b))},Y=()=>{};return a(l.exports.Fragment,{children:[e(c,{children:e(n,{md:12,xs:12,children:e(P,{children:a(U,{children:[a(c,{style:{margin:"10px 0","justify-content":"space-between"},children:[e(f,{color:"primary",style:{width:"auto"},onClick:$,children:"+ Add Brand"}),e("input",{type:"search",style:{width:"auto"},class:"form-control",placeholder:"Search",onChange:L})]}),e(c,{}),e(c,{children:e(n,{md:12,xs:12,children:m==""?e("p",{style:{width:"100%","text-align":"center",padding:"20px 5px"},children:"Loading..."}):e("div",{className:" table-responsive",children:a(T,{className:"table table-striped",children:[e("thead",{children:a("tr",{children:[e("td",{children:"Name"}),e("td",{children:"Logo"}),e("td",{children:"Status"}),e("td",{children:"Featured"}),e("td",{children:"Actions"})]})}),e("tbody",{children:m.map(t=>{var s;return a("tr",{children:[e("td",{children:t.name}),e("td",{children:e("img",{src:t.logo,alt:t.name})}),e("td",{children:t.status}),e("td",{children:t.featured=="0"?"No":"Yes"}),e("td",{children:a("select",{onChange:F,id:t.id,cat_name:t.name,parent_category:(s=t.parent_category)==null?void 0:s.name,status:t.status,searchable:t.searchable,className:"form-select",children:[e("option",{selected:!0,children:"Select"}),e("option",{value:"copyId",children:"Copy ID"}),e("option",{value:"edit",children:"Edit"}),e("option",{value:"delete",children:"Delete"})]})})]},t.id)})})]})})})})]})})})}),a(G,{isOpen:p,toggle:()=>{h(!p),document.getElementById(B).value="Select"},className:"modal-dialog-centered modal-lg",children:[e(H,{className:"bg-transparent",toggle:()=>{h(!p),document.getElementById(B).value="Select"}}),e(J,{className:"px-sm-5 pt-50 pb-5",children:e("div",{children:a(O,{onSubmit:t=>t.preventDefault(),children:[a(c,{className:"gy-1 pt-75",children:[a(n,{md:12,xs:12,children:[a(d,{className:"form-label",for:"brandName",children:["Name ",e("span",{className:"text-danger",children:"*"})]}),e(r,{type:"text",id:"brandName",placeholder:"Name",defaultValue:m.name,required:!0,onChange:A})]}),a(n,{md:12,xs:12,children:[e(d,{className:"form-label",for:"brandDescription",children:"Description"}),e(r,{type:"text",id:"brandDescription",placeholder:"Description...",value:m.description})]}),a(n,{md:12,xs:12,children:[e(d,{className:"form-label",for:"brandWebsite",children:"Website link"}),e(r,{type:"text",id:"brandWebsite",placeholder:"Website / Link"})]})]}),a(c,{className:"gy-1 pt-75",children:[e("h4",{children:"Seo info"}),a(n,{md:12,xs:12,children:[e(d,{className:"form-label",for:"brandMeta",children:"Meta title"}),e(r,{type:"text",id:"brandMeta",placeholder:"Meta title"})]}),a(n,{md:12,xs:12,children:[e(d,{className:"form-label",for:"brandMetaDescription",children:"Meta description"}),e(r,{type:"text",id:"brandMetaDescription",placeholder:"Meta Description..."})]})]}),a(c,{className:"gy-1 pt-75",children:[e("h4",{children:"Status info"}),e(n,{md:12,xs:12,children:a(S,{children:[a(d,{style:{display:"block"},children:[e(r,{type:"radio",id:"status_publish",class:"form-check-input",name:"status",checked:!0})," Publish"]}),a(d,{style:{display:"block"},children:[e(r,{type:"radio",id:"status_pending",class:"form-check-input",name:"status"})," Pending"]})]})}),a(n,{md:12,xs:12,children:[e(d,{className:"form-label",for:"brandLogo",children:'Logo "150px * 150px"'}),e(r,{type:"file",id:"brandLogo",onChange:t=>M(t.target.files[0])})]}),a(n,{md:12,xs:12,children:[e(d,{className:"form-label",for:"brandLogo",children:"Is featured"}),a(S,{children:[a(d,{style:{display:"block"},children:[e(r,{type:"radio",id:"featuredYes",class:"form-check-input",name:"isFeatured",checked:!0})," Yes"]}),a(d,{style:{display:"block"},children:[e(r,{type:"radio",id:"featuredNo",class:"form-check-input",name:"isFeatured"})," No"]})]})]})]}),a(c,{children:[e("div",{id:"updateBrandBtn",className:C,onClick:Y,children:e(f,{type:"submit",color:"primary",children:"Update"})}),e("div",{id:"saveNewBrandBtn",className:D,onClick:W,children:e(f,{type:"submit",color:"primary",children:"Save"})})]})]})})})]})]})}export{K as default};
